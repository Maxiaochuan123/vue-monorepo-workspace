<script setup lang="ts">
import { BaseButton, BaseCard, LoadingOverlay } from '@myorg/shared/components'

const loading = ref(false)
const buttonLoading = ref(false)

function handleClick() {
  showToast('æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼')
}

async function handleLoadingClick() {
  buttonLoading.value = true
  await new Promise(resolve => setTimeout(resolve, 2000))
  buttonLoading.value = false
  showToast('åŠ è½½å®Œæˆï¼')
}

function toggleOverlay() {
  loading.value = true
  setTimeout(() => {
    loading.value = false
  }, 2000)
}
</script>

<template>
  <div class="components-demo">
    <!-- BaseButton æ¼”ç¤º -->
    <div class="demo-card fade-in">
      <h3 class="demo-card__title">
        BaseButton æŒ‰é’®
      </h3>
      <p class="demo-desc">
        å°è£… Vant Buttonï¼Œæä¾›ç»Ÿä¸€çš„æŒ‰é’®æ ·å¼
      </p>

      <div class="button-group">
        <BaseButton type="primary" @click="handleClick">
          ä¸»è¦æŒ‰é’®
        </BaseButton>
        <BaseButton type="success">
          æˆåŠŸæŒ‰é’®
        </BaseButton>
        <BaseButton type="warning">
          è­¦å‘ŠæŒ‰é’®
        </BaseButton>
        <BaseButton type="danger">
          å±é™©æŒ‰é’®
        </BaseButton>
      </div>

      <div class="button-group">
        <BaseButton type="primary" size="large" block>
          å¤§å·å—çº§æŒ‰é’®
        </BaseButton>
      </div>

      <div class="button-group">
        <BaseButton
          type="primary"
          :loading="buttonLoading"
          @click="handleLoadingClick"
        >
          ç‚¹å‡»åŠ è½½
        </BaseButton>
        <BaseButton type="primary" disabled>
          ç¦ç”¨çŠ¶æ€
        </BaseButton>
      </div>

      <pre
        class="code-block"
      ><code>import { BaseButton } from '@myorg/shared/components'

&lt;BaseButton type="primary" @click="handleClick"&gt;
  ä¸»è¦æŒ‰é’®
&lt;/BaseButton&gt;</code></pre>
    </div>

    <!-- BaseCard æ¼”ç¤º -->
    <div class="demo-card fade-in" style="animation-delay: 0.1s">
      <h3 class="demo-card__title">
        BaseCard å¡ç‰‡
      </h3>
      <p class="demo-desc">
        é€šç”¨å¡ç‰‡ç»„ä»¶ï¼Œæ”¯æŒæ ‡é¢˜ã€æè¿°ã€æ’æ§½ç­‰
      </p>

      <BaseCard
        title="å¸¦æ ‡é¢˜çš„å¡ç‰‡"
        description="è¿™æ˜¯å¡ç‰‡çš„æè¿°ä¿¡æ¯"
        shadow="hover"
      >
        <p>è¿™æ˜¯å¡ç‰‡çš„å†…å®¹åŒºåŸŸï¼Œå¯ä»¥æ”¾ç½®ä»»æ„å†…å®¹ã€‚</p>
      </BaseCard>

      <BaseCard class="mt-12">
        <template #header>
          <div class="custom-header">
            <span class="emoji">ğŸ¨</span>
            <span>è‡ªå®šä¹‰ Header</span>
          </div>
        </template>
        <p>ä½¿ç”¨æ’æ§½è‡ªå®šä¹‰å¡ç‰‡å¤´éƒ¨å†…å®¹</p>
        <template #footer>
          <BaseButton type="primary" size="small">
            æ“ä½œæŒ‰é’®
          </BaseButton>
        </template>
      </BaseCard>

      <pre
        class="code-block"
      ><code>import { BaseCard } from '@myorg/shared/components'

&lt;BaseCard title="å¡ç‰‡æ ‡é¢˜" description="æè¿°"&gt;
  å¡ç‰‡å†…å®¹
&lt;/BaseCard&gt;</code></pre>
    </div>

    <!-- LoadingOverlay æ¼”ç¤º -->
    <div class="demo-card fade-in" style="animation-delay: 0.2s">
      <h3 class="demo-card__title">
        LoadingOverlay åŠ è½½é®ç½©
      </h3>
      <p class="demo-desc">
        å…¨å±æˆ–å±€éƒ¨åŠ è½½é®ç½©ç»„ä»¶
      </p>

      <BaseButton type="primary" @click="toggleOverlay">
        æ˜¾ç¤ºåŠ è½½é®ç½©ï¼ˆ2ç§’ï¼‰
      </BaseButton>

      <pre
        class="code-block"
      ><code>import { LoadingOverlay } from '@myorg/shared/components'

&lt;LoadingOverlay
  :show="loading"
  text="åŠ è½½ä¸­..."
  fullscreen
/&gt;</code></pre>
    </div>

    <!-- å…¨å±€åŠ è½½é®ç½© -->
    <LoadingOverlay :show="loading" text="åŠ è½½ä¸­..." fullscreen />
  </div>
</template>

<style scoped>
.components-demo {
  padding-top: 10px;
}

.demo-desc {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 12px;
}

.mt-12 {
  margin-top: 12px;
}

.custom-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.emoji {
  font-size: 20px;
}
</style>
